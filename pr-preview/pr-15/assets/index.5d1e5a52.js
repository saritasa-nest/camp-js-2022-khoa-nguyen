import{$ as S,q as k,r as l,a0 as w,o as e,j as a,L as _,a1 as v,a2 as y,a3 as C}from"./index.80b85d43.js";import{c as L,a as c,u as N,s,C as A,F as E,b as q,d as m,S as x}from"./object.16c02581.js";import{B as F}from"./TextField.5a1d670b.js";const I=L().shape({email:c().email("This field has to be an email!").required("Email is required!"),password:c().required("Password is required!")}),D={isOpen:!1,message:"",duration:3e3},O={email:"",password:""},H=()=>{const d=S(),t=k(),[r,o]=l.exports.useState(D),u=async({email:i,password:g})=>{const n=await t(v(new y({email:i,password:g})));if(n.payload instanceof C){const f=n.payload.detail;o(b=>({...b,isOpen:!0,message:f}));return}d("/")},p=()=>{o(i=>({...i,isOpen:!1}))};l.exports.useEffect(()=>{t(w())},[]);const h=N({initialValues:O,validationSchema:I,onSubmit:u});return e("div",{className:s.auth,children:[e(A,{children:[a("h1",{className:s.auth__title,children:"Welcome to Saritasa Anime"}),a(E,{value:h,children:e(q,{className:s.auth__form,children:[a(m,{label:"Email",name:"email",type:"email"}),a(m,{label:"Password",name:"password",type:"password"}),e("p",{children:["Don't have an account?"," ",a(_,{className:s.auth__link,to:"/register",children:"Register now!"})," "]}),a(F,{type:"submit",children:"Login"})]})})]}),a(x,{open:r.isOpen,autoHideDuration:r.duration,onClose:p,message:r.message})]})};export{H as LoginPage};
