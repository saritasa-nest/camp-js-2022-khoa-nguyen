import{$ as S,q as k,r as c,a1 as y,o as r,j as a,L as _,a8 as v,a9 as A,a4 as F}from"./index.923300d7.js";import{c as L,a as s,u as P,s as i,C as E,F as x,b as I,d as e,S as j}from"./object.b90816c5.js";import{B}from"./TextField.d7bcef0a.js";const O=L().shape({email:s().email("This field has to be an email!").required("Email is required!"),password:s().required("Password is required!"),lastName:s().required("Last name is required!"),firstName:s().required("First name is required!"),confirmPassword:s().required("Confirm password is required!").test("is-match-password","Confirm password does not match with password",function(t){return t===this.parent.password})}),R={email:"",lastName:"",firstName:"",password:"",confirmPassword:""},D={isOpen:!1,message:"",duration:3e3},V=()=>{const t=S(),m=k(),[o,l]=c.exports.useState(D),u=async({password:n,email:f,firstName:w,lastName:g},{setErrors:b})=>{const d=await m(v(new A({password:n,email:f,firstName:w,lastName:g})));if(d.payload instanceof F){const{data:N,detail:q}=d.payload;b(N),l(C=>({...C,message:q}));return}t("/")},p=()=>{l(n=>({...n,isOpen:!1}))},h=P({initialValues:R,validationSchema:O,onSubmit:u});return c.exports.useEffect(()=>{m(y())},[]),r("div",{className:i.auth,children:[r(E,{children:[a("h1",{className:i.auth__title,children:"Welcome to Saritasa Anime"}),a(x,{value:h,children:r(I,{className:i.auth__form,children:[a(e,{label:"Email",name:"email",type:"email"}),a(e,{label:"First name",name:"firstName"}),a(e,{label:"Last name",name:"lastName"}),a(e,{label:"Password",name:"password",type:"password"}),a(e,{label:"Confirm password",name:"confirmPassword",type:"password"}),r("p",{children:["Already have an account?"," ",a(_,{to:"/login",className:i.auth__link,children:"Login now!"})," "]}),a(B,{type:"submit",children:"Register"})]})})]}),a(j,{open:o.isOpen,autoHideDuration:o.duration,onClose:p,message:o.message})]})};export{V as RegisterPage};
