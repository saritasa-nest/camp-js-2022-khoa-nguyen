import{q as h,$ as g,x as f,a0 as b,r as L,a1 as w,j as a,o as r,L as y,a2 as v,a3 as k,a4 as S,t as q}from"./index.4284b3dd.js";import{c as _,a as o,u as x,s as e,F as A,b as E,d as n,L as F}from"./object.5838e705.js";import{b as I}from"./TextField.0ba019fb.js";const N=_().shape({email:o().email("This field has to be an email!").required("Email is required!"),password:o().required("Password is required!")}),P={email:"",password:""},z=()=>{const s=h(),{enqueueSnackbar:i}=g(),l=f(b),c=async({email:m,password:u})=>{const t=await s(v(new k({email:m,password:u})));if(t.payload instanceof S){const p=t.payload.detail;i(p,{variant:"error"});return}i("Login successfully!",{variant:"success"}),s(q(!0))};L.exports.useEffect(()=>{s(w())},[]);const d=x({initialValues:P,validationSchema:N,onSubmit:c});return a("div",{className:e.auth,children:r(I,{children:[a("h1",{className:e.auth__title,children:"Welcome to Saritasa Anime"}),a(A,{value:d,children:r(E,{className:e.auth__form,children:[a(n,{label:"Email",name:"email",type:"email"}),a(n,{label:"Password",name:"password",type:"password"}),r("p",{children:["Don't have an account?"," ",a(y,{className:e.auth__link,to:"/register",children:"Register now!"})," "]}),a(F,{loading:l,color:"primary",variant:"contained",type:"submit",children:"Login"})]})})]})})};export{z as LoginPage};
