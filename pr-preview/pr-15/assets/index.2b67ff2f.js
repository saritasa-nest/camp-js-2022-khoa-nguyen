import{q as b,$ as g,x as q,a0 as y,r as N,a1 as L,j as a,o as t,L as v,a6 as S,a7 as k,a4 as F,t as P}from"./index.4284b3dd.js";import{c as A,a as e,u as _,s as i,F as x,b as E,d as r,L as C}from"./object.5838e705.js";import{b as I}from"./TextField.0ba019fb.js";const j=A().shape({email:e().email("This field has to be an email!").required("Email is required!"),password:e().required("Password is required!"),lastName:e().required("Last name is required!"),firstName:e().required("First name is required!"),confirmPassword:e().required("Confirm password is required!").test("is-match-password","Confirm password does not match with password",function(s){return s===this.parent.password})}),R={email:"",lastName:"",firstName:"",password:"",confirmPassword:""},H=()=>{const s=b(),{enqueueSnackbar:o}=g(),l=q(y),m=_({initialValues:R,validationSchema:j,onSubmit:async({password:d,email:c,firstName:u,lastName:p},{setErrors:h})=>{const n=await s(S(new k({password:d,email:c,firstName:u,lastName:p})));if(n.payload instanceof F){const{data:f,detail:w}=n.payload;o(w,{variant:"error"}),h(f);return}o("Register successfully!",{variant:"success"}),s(P(!0))}});return N.exports.useEffect(()=>{s(L())},[]),a("div",{className:i.auth,children:t(I,{children:[a("h1",{className:i.auth__title,children:"Welcome to Saritasa Anime"}),a(x,{value:m,children:t(E,{className:i.auth__form,children:[a(r,{label:"Email",name:"email",type:"email"}),a(r,{label:"First name",name:"firstName"}),a(r,{label:"Last name",name:"lastName"}),a(r,{label:"Password",name:"password",type:"password"}),a(r,{label:"Confirm password",name:"confirmPassword",type:"password"}),t("p",{children:["Already have an account?"," ",a(v,{to:"/login",className:i.auth__link,children:"Login now!"})," "]}),a(C,{loading:l,color:"primary",variant:"contained",type:"submit",children:"Register"})]})})]})})};export{H as RegisterPage};
