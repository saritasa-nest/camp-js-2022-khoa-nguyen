import{$ as S,q as k,r as u,a1 as y,o as t,j as a,L as _,a8 as j,a9 as v,a4 as A}from"./index.41c64280.js";import{c as L,a as s,u as P,s as n,C as x,F as I,b as F,d as e,S as B}from"./auth.module.cf451c6b.js";import{B as E}from"./TextField.8a96fcd3.js";const O=L().shape({email:s().email("This field has to be an email!").required("Email is required!"),password:s().required("Password is required!"),lastName:s().required("Last name is required!"),firstName:s().required("First name is required!"),confirmPassword:s().required("Confirm password is required!").test("is-match-password","Confirm password does not match with password",function(o){return o===this.parent.password})}),R={email:"",lastName:"",firstName:"",password:"",confirmPassword:""},D={isOpen:!1,message:"",duration:3e3},V=()=>{const o=S(),d=k(),[m,c]=u.exports.useState(D),f=async({password:l,email:N,firstName:g,lastName:b},{setFieldError:r})=>{const p=await d(j(new v({password:l,email:N,firstName:g,lastName:b})));if(p.payload instanceof A){const{data:i,detail:q}=p.payload;r("firstName",i?.firstName?.join(`
`)),r("lastName",i?.lastName?.join(`
`)),r("password",i?.password?.join(`
`)),r("email",i?.email?.join(`
`)),c(C=>({...C,message:q}));return}o("/")},h=()=>{c(l=>({...l,isOpen:!1}))},w=P({initialValues:R,validationSchema:O,onSubmit:f});return u.exports.useEffect(()=>{d(y())},[]),t("div",{className:n.auth,children:[t(x,{children:[a("h1",{className:n.auth__title,children:"Welcome to Saritasa Anime"}),a(I,{value:w,children:t(F,{className:n.auth__form,children:[a(e,{label:"Email",name:"email",type:"email"}),a(e,{label:"First name",name:"firstName"}),a(e,{label:"Last name",name:"lastName"}),a(e,{label:"Password",name:"password",type:"password"}),a(e,{label:"Confirm password",name:"confirmPassword",type:"password"}),t("p",{children:["Already have an account?"," ",a(_,{to:"/login",className:n.auth__link,children:"Login now!"})," "]}),a(E,{type:"submit",children:"Register"})]})})]}),a(B,{open:m.isOpen,autoHideDuration:m.duration,onClose:h,message:m.message})]})};export{V as RegisterPage};
