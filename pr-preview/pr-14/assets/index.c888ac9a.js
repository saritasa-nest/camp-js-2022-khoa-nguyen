import{e as S,u as k,r as p,h as y,a as i,j as a,L as _,p as j,U as v,H as A}from"./index.9d17bd11.js";import{c as F,a as s,u as L,s as t,F as P,b as E,d as e,S as x}from"./auth.module.aeb6d30a.js";import{C as I,B}from"./index.bcf0a37f.js";const H=F().shape({email:s().email("This field has to be an email!").required("Email is required!"),password:s().required("Password is required!"),lastName:s().required("Last name is required!"),firstName:s().required("First name is required!"),confirmPassword:s().required("Confirm password is required!").test("is-match-password","Confirm password does not match with password",function(n){return n===this.parent.password})}),O={email:"",lastName:"",firstName:"",password:"",confirmPassword:""},R={isOpen:!1,message:"",duration:3e3},V=()=>{const n=S(),l=k(),[o,d]=p.exports.useState(R),u=async({password:m,email:w,firstName:N,lastName:g},{setErrors:b})=>{const c=await l(j(new v({password:m,email:w,firstName:N,lastName:g})));if(c.payload instanceof A){const{data:r,detail:q}=c.payload;b({firstName:r?.firstName?.join(`
`),lastName:r?.lastName?.join(`
`),password:r?.password?.join(`
`),email:r?.email?.join(`
`)}),d(C=>({...C,message:q}));return}n("/")},h=()=>{d(m=>({...m,isOpen:!1}))},f=L({initialValues:O,validationSchema:H,onSubmit:u});return p.exports.useEffect(()=>{l(y())},[]),i("div",{className:t.auth,children:[i(I,{children:[a("h1",{className:t.auth__title,children:"Welcome to Saritasa Anime"}),a(P,{value:f,children:i(E,{className:t.auth__form,children:[a(e,{label:"Email",name:"email",type:"email"}),a(e,{label:"First name",name:"firstName"}),a(e,{label:"Last name",name:"lastName"}),a(e,{label:"Password",name:"password",type:"password"}),a(e,{label:"Confirm password",name:"confirmPassword",type:"password"}),i("p",{children:["Already have an account?"," ",a(_,{to:"/login",className:t.auth__link,children:"Login now!"})," "]}),a(B,{type:"submit",children:"Register"})]})})]}),a(x,{open:o.isOpen,autoHideDuration:o.duration,onClose:h,message:o.message})]})};export{V as RegisterPage};
