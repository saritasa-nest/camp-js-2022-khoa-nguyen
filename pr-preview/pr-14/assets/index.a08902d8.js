import{e as S,u as k,r as u,h as y,a as t,j as a,L as _,p as j,U as v,H as A}from"./index.7b807029.js";import{c as L,a as s,u as P,s as n,F as x,b as I,d as e,S as F}from"./auth.module.81973113.js";import{C as B,B as E}from"./index.9bd70836.js";const H=L().shape({email:s().email("This field has to be an email!").required("Email is required!"),password:s().required("Password is required!"),lastName:s().required("Last name is required!"),firstName:s().required("First name is required!"),confirmPassword:s().required("Confirm password is required!").test("is-match-password","Confirm password does not match with password",function(o){return o===this.parent.password})}),O={email:"",lastName:"",firstName:"",password:"",confirmPassword:""},R={isOpen:!1,message:"",duration:3e3},V=()=>{const o=S(),d=k(),[m,c]=u.exports.useState(R),h=async({password:l,email:N,firstName:g,lastName:b},{setFieldError:r})=>{const p=await d(j(new v({password:l,email:N,firstName:g,lastName:b})));if(p.payload instanceof A){const{data:i,detail:q}=p.payload;r("firstName",i?.firstName?.join(`
`)),r("lastName",i?.lastName?.join(`
`)),r("password",i?.password?.join(`
`)),r("email",i?.email?.join(`
`)),c(C=>({...C,message:q}));return}o("/")},f=()=>{c(l=>({...l,isOpen:!1}))},w=P({initialValues:O,validationSchema:H,onSubmit:h});return u.exports.useEffect(()=>{d(y())},[]),t("div",{className:n.auth,children:[t(B,{children:[a("h1",{className:n.auth__title,children:"Welcome to Saritasa Anime"}),a(x,{value:w,children:t(I,{className:n.auth__form,children:[a(e,{label:"Email",name:"email",type:"email"}),a(e,{label:"First name",name:"firstName"}),a(e,{label:"Last name",name:"lastName"}),a(e,{label:"Password",name:"password",type:"password"}),a(e,{label:"Confirm password",name:"confirmPassword",type:"password"}),t("p",{children:["Already have an account?"," ",a(_,{to:"/login",className:n.auth__link,children:"Login now!"})," "]}),a(E,{type:"submit",children:"Register"})]})})]}),a(F,{open:m.isOpen,autoHideDuration:m.duration,onClose:f,message:m.message})]})};export{V as RegisterPage};
