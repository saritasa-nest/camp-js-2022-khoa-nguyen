import{e as S,u as k,r as l,f as w,a as e,j as a,L as _,l as v,g as y,H as C}from"./index.ad9ced3a.js";import{c as L,a as c,u as N,s,F as A,b as E,d as m,S as x}from"./object.fe128602.js";import{C as F,B as I}from"./index.42bbcb11.js";const q=L().shape({email:c().email("This field has to be an email!").required("Email is required!"),password:c().required("Password is required!")}),D={isOpen:!1,message:"",duration:3e3},O={email:"",password:""},H=()=>{const d=S(),t=k(),[r,o]=l.exports.useState(D),u=async({email:i,password:g})=>{const n=await t(v(new y({email:i,password:g})));if(n.payload instanceof C){const f=n.payload.detail;o(b=>({...b,isOpen:!0,message:f}));return}d("/")},p=()=>{o(i=>({...i,isOpen:!1}))};l.exports.useEffect(()=>{t(w())},[]);const h=N({initialValues:O,validationSchema:q,onSubmit:u});return e("div",{className:s.auth,children:[e(F,{children:[a("h1",{className:s.auth__title,children:"Welcome to Saritasa Anime"}),a(A,{value:h,children:e(E,{className:s.auth__form,children:[a(m,{label:"Email",name:"email",type:"email"}),a(m,{label:"Password",name:"password",type:"password"}),e("p",{children:["Don't have an account?"," ",a(_,{className:s.auth__link,to:"/register",children:"Register now!"})," "]}),a(I,{type:"submit",children:"Login"})]})})]}),a(x,{open:r.isOpen,autoHideDuration:r.duration,onClose:p,message:r.message})]})};export{H as LoginPage};
