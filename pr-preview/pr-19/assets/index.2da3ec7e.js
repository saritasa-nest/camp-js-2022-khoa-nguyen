import{af as c,z as g,ag as f,K as w,ah as L,r as b,ai as v,j as a,v as r,L as y,aj as k,ak as S,A}from"./index.369117f5.js";import{c as _,a as o,u as q,s as e,F as E,b as F,d as n,L as j}from"./object.a4b0730e.js";import{c as x}from"./TextField.d83a8e67.js";const I=_().shape({email:o().email("This field has to be an email!").required("Email is required!"),password:o().required("Password is required!")}),N=new c({email:"",password:""}),B=()=>{const s=g(),{enqueueSnackbar:i}=f(),l=w(L),d=async({email:u,password:p})=>{const t=await s(k(new c({email:u,password:p})));if(t.payload instanceof S){const h=t.payload.detail;i(h,{variant:"error"});return}i("Login successfully!",{variant:"success"}),s(A(!0))};b.exports.useEffect(()=>{s(v())},[]);const m=q({initialValues:N,validationSchema:I,onSubmit:d});return a("div",{className:e.auth,children:r(x,{children:[a("h1",{className:e.auth__title,children:"Welcome to Saritasa Anime"}),a(E,{value:m,children:r(F,{className:e.auth__form,children:[a(n,{label:"Email",name:"email",type:"email"}),a(n,{label:"Password",name:"password",type:"password"}),r("p",{children:["Don't have an account?"," ",a(y,{className:e.auth__link,to:"/register",children:"Register now!"})," "]}),a(j,{loading:l,color:"primary",variant:"contained",type:"submit",children:"Login"})]})})]})})};export{B as LoginPage};
